let galleryHTML=`
    
        
        <div class="center-container">
            <div id="ascii-art-container">
                <!-- Your ASCII art content goes here -->
            </div>
        </div>


        <div id="loading-progress-container">
            <svg viewBox="0 0 36 36" class="circular-chart">
                <path class="circle-bg"
                    d="M18 2.0845
                    a 15.9155 15.9155 0 0 1 0 31.831
                    a 15.9155 15.9155 0 0 1 0 -31.831"
                    fill="none"
                    stroke="#eeeeee"
                    stroke-width="2.5"
                />

                <path class="circle"
                    stroke-dasharray="100, 100"
                    d="M18 2.0845
                    a 15.9155 15.9155 0 0 1 0 31.831
                    a 15.9155 15.9155 0 0 1 0 -31.831"
                    fill="none"
                    stroke="#00ffcc"
                    stroke-width="2.5"
                    id="loading-progress"
                />
            </svg>
        </div>

        

        <div class="centered-container">
            <div id="notification-popup" style="display: none;">Message goes here</div>
            <div id="notification-popup2" style="display: none;">Message goes here</div>
            <div class="hover-effect-wrapper" id="hover-effect-wrapper">
                <div class="hover-effect-container" id="hover-effect"></div>
            </div>
            <div class="slides" id="slideshow">
                <div class="button-container">
                    <div class="toggle-button" onclick="toggleTextInfo()">Toggle Prompt</div>
                </div>

                <div class="btn-nav" id="btn-prev">‹</div>
                <div class="btn-nav" id="btn-next">›</div>
                <div class="close" onclick="toggleSlideshow()">×</div>
               
                <div id="text-info2" class="adjust-width">
                    <p id="text-prompt2"></p>
                    <p id="text-seed2"></p>
                    <p id="text-creator2"></p>
                </div>
                <div id="text-info" class="adjust-width">
                    <p id="text-prompt"></p>
                    <p id="text-seed"></p>
                    <p id="text-creator"></p>
                </div>
            </div>

        </div>

        <div id="search-container">
            <input type="text" id="search-bar" placeholder="Loading please wait..." disabled>
        </div>


        <div id="gallery-container"></div>


`,globalLinkUrl="",loadingPercentage=0,loadingprePercentage=0;var hoverEffectInstance,dynamicImages=[],currentImageIndex=0;let TOTAL_IMAGES_FOR_PRE_PERCENTAGE=144,loadCallCount=0;function loadGallery(){loadingPercentage=0;var e=document.getElementById("bodyGalleryContainer");e&&(e.innerHTML=galleryHTML,initializePage(),calculateAspectRatio()),document.getElementById("search-bar").addEventListener("input",toggleOverlayContainers),document.getElementById("btn-next").addEventListener("click",showNextSlide),document.getElementById("btn-prev").addEventListener("click",showPrevSlide),document.querySelector(".close").addEventListener("click",toggleSlideshow),toggleOverlayContainers(),document.getElementById("search-bar").addEventListener("input",function(){var e=this.value.trim().toLowerCase();0<e.length?(this.style.animation="none",filterImagesAndOverlays(e)):(this.style.animation="",showAllImages())})}let galleryContainer=document.getElementById("gallery-container");function sendHeightToParent(){var e=document.body.scrollHeight;window.parent.postMessage({messageType:"setHeight",height:e},"*")}function calculateAspectRatio(){window.innerWidth/window.innerHeight<=1?(document.body.classList.add("square-aspect-ratio"),adjustNavButtonsForAspectRatio(!0)):(document.body.classList.remove("square-aspect-ratio"),adjustNavButtonsForAspectRatio(!1))}let lastHeight=window.innerHeight,lastOrientation=window.innerWidth>window.innerHeight?"landscape":"portrait",heightChangeThresholdG=96;function adjustNavButtonsForAspectRatio(e){var t=document.getElementById("btn-prev"),n=document.getElementById("btn-next"),o=document.getElementById("button-overlay"),a=document.getElementById("slideshow");t&&n&&(e?(o&&(o.appendChild(t),o.appendChild(n),t.style.position="absolute",n.style.position="absolute",t.style.top="50%",n.style.top="50%",t.style.transform="translateY(-50%)",n.style.transform="translateY(-50%)"),t.style.zIndex="1111010",n.style.zIndex="1111010"):(a.appendChild(t),a.appendChild(n),t.style.position="",n.style.position="",t.style.top="",n.style.top="",t.style.transform="",n.style.transform="",t.style.zIndex="",n.style.zIndex=""))}function createBackgroundSurface(){var e=document.querySelector(".centered-container"),t=document.createElement("div");t.id="background-surface",t.style.position="absolute",t.style.top="-25%",t.style.left="-25%",t.style.width="150%",t.style.height="150%",t.style.backgroundColor="black",t.style.zIndex="-1",e.appendChild(t)}window.addEventListener("resize",function(){var e=window.innerHeight,t=window.innerWidth>window.innerHeight?"landscape":"portrait";isIOS?Math.abs(e-lastHeight)>heightChangeThresholdG&&(t!==lastOrientation&&(window.scrollTo({left:0}),lastOrientation=t),calculateAspectRatio(),lastHeight=e):calculateAspectRatio()});let textInfoVisible=!0;function toggleTextInfo(){document.getElementById("text-info");let e=document.getElementById("text-info2");textInfoVisible?(hideTextInfo().then(()=>{e.style.pointerEvents="none"}),textInfoVisible=!1):(textInfoVisible=!0,showTextInfo().then(()=>{e.style.pointerEvents="auto"}))}function toggleOverlayContainers(){var e=document.getElementById("search-bar"),t=document.querySelectorAll(".image-container");""===e.value.trim()?t.forEach(e=>{e.querySelector(".word-overlay").style.display="none"}):t.forEach(e=>{e.querySelector(".word-overlay").style.display="block"})}function initializeLoadingScreen(){blockInteractions();var e=["                 /^ ^\\                ","                / 111 \\               ","                V\\ Y /V               ","                 / - \\                ","                /    |                ","               V__) ||                ","**************************************","*** LOADING DATA *** IMAGE LIBRARY ***","**************************************"],t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="500vh",t.style.zIndex="-1",t.style.backgroundColor="rgba(0, 0, 0, 1)",document.body.insertBefore(t,document.body.firstChild),setTimeout(function(){fetchImageFilenames()},10);let n=document.getElementById("ascii-art-container"),o=e[0].length;function a(e){e.preventDefault()}function i(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%&*()[]{}|";return isScrollDisabled||(window.addEventListener("wheel",a,{passive:!1}),window.addEventListener("touchmove",a,{passive:!1}),isScrollDisabled=!0),e.charAt(Math.floor(Math.random()*e.length))}function r(){return`hsl(${Math.floor(360*Math.random())}, 100%, 50%)`}e.forEach((e,t)=>{let o=document.createElement("div");o.className="ascii-line",e.split("").forEach((e,t)=>{var n=document.createElement("span");n.setAttribute("data-original-char",e)," "!==e&&""!==e||n.classList.add("hidden-char"),o.appendChild(n)}),n.appendChild(o)});let s=0,l=setInterval(function(){document.querySelectorAll(".ascii-line").forEach(t=>{for(let e=0;e<o;e++){var n=t.childNodes[e];n&&(e>=loadingprePercentage&&e<loadingprePercentage+7?(n.textContent=i(),n.style.color=r()):e>=loadingprePercentage-7&&e<loadingprePercentage&&(n.textContent=n.getAttribute("data-original-char"),n.style.color=""))}})},30);setInterval(function(){s<loadingprePercentage&&(s=loadingprePercentage),loadingPercentage++},1e5);let d=setInterval(function(){if(40<=loadingprePercentage){{let n=Array.from(document.querySelectorAll("span")).filter(e=>"1"===e.getAttribute("data-original-char"));function o(e,t){let n=0,o=setInterval(()=>{if(150<=n){if(clearInterval(o),e.textContent="1",e.style.color="",t){let e=document.querySelector(".center-container");e&&(e.style.transition="opacity 1s ease-out",e.style.opacity="0",setTimeout(()=>{e.remove(),isScrollDisabled&&(window.removeEventListener("wheel",a),window.removeEventListener("touchmove",a),isScrollDisabled=!1),unblockInteractions()},1e3))}}else e.textContent=i(),e.style.color=r(),n+=1e3/420},1e3/420)}n.forEach((e,t)=>{setTimeout(()=>{o(e,t===n.length-1)},50*t)})}clearInterval(d),clearInterval(l)}},10)}let abortController=new AbortController;function fetchImageFilenames(){let u=(abortController=new AbortController).signal,o={},f=document.getElementById("gallery-container"),p;var e;window.indexedDB?((e=window.indexedDB.open("MyDatabase",1)).onerror=function(e){console.error("Database error: ",e.target.errorCode)},e.onsuccess=function(e){p=e.target.result,fetch("https://raw.githubusercontent.com/Mischlichter/data/main/index.json",{signal:u}).then(e=>e.json()).then(m=>{fetch("https://raw.githubusercontent.com/Mischlichter/data/main/lib/metadata.json",{signal:u}).then(e=>e.json()).then(e=>{o=e,fetch("https://api.github.com/repos/Mischlichter/data/contents/gallerycom",{signal:u}).then(e=>e.json()).then(n=>{let d=n.length,c=0;loadingPercentage=0,loadingprePercentage=0,loadCallCount=0,function s(l){if(!(l>=d)){let a=n[l],i=document.createElement("div"),r=(i.classList.add("image-container"),document.createElement("img"));r.classList.add("grid-image"),r.alt="Scene Image";var e=o[a.name]||{},t=document.createElement("div");t.classList.add("word-overlay"),i.appendChild(r),i.appendChild(t),r.dataset.metadata=JSON.stringify(e),(t=p.transaction("assets","readonly").objectStore("assets").get(a.download_url)).onsuccess=function(e){var t=(e=e.target.result)?new Date(e.lastModified):new Date(0),n=m[a.name]?.lastModified;let o;o=n?(n=n.split(/[- :]/),new Date(n[0],n[1]-1,n[2],n[3],n[4],n[5])):new Date(0),!e||t<o?fetch(a.download_url,{signal:u}).then(e=>e.blob()).then(e=>{p.transaction("assets","readwrite").objectStore("assets").put({url:a.download_url,blob:e,lastModified:o.toISOString()}),e=URL.createObjectURL(e),r.src=e,dynamicImages.push(r.src)}).catch(e=>{"AbortError"!==e.name&&console.error(`Error loading image ${l} (${a.name}):`,e)}):(n=e.blob)instanceof Blob?(r.src=URL.createObjectURL(n),dynamicImages.push(r.src)):(console.error(`Blob is not an instance of Blob for image ${l} (${a.name})`),s(l+1)),r.onload=()=>{updateLoadingStatus(++c/d*100),r.onclick=()=>onImageClick(r.src),-1!==currentImageIndex?showSlideshow():console.error("Clicked image index not found in dynamicImages array."),c,d,f.appendChild(i),setTimeout(()=>s(l+1),7)},r.onerror=()=>{console.error(`Error loading image ${l} (${a.name})`),s(l+1)}},t.onerror=function(){console.error("Error fetching image from database")}}}(c=0)}).catch(e=>{"AbortError"!==e.name&&console.error("Error fetching file names:",e)})}).catch(e=>{"AbortError"!==e.name&&console.error("Error fetching metadata:",e)})}).catch(e=>{"AbortError"!==e.name&&console.error("Error fetching index data:",e)})},e.onupgradeneeded=function(e){e=e.target.result;e.objectStoreNames.contains("assets")||e.createObjectStore("assets",{keyPath:"url"})}):console.log("Your browser doesn't support IndexedDB.")}function updateVisibleImages(){var e=document.querySelectorAll("img");let n=[];e.forEach(e=>{var t=e.closest(".image-container");t&&!t.classList.contains("hidden-image")&&n.push(e.src)});var e=dynamicImages.filter(e=>!n.includes(e)),t=n.filter(e=>!dynamicImages.includes(e));e.length,t.length,dynamicImages=n}function onImageClick(e){if(updateVisibleImages(),-1!==(currentImageIndex=dynamicImages.indexOf(e))){let e=document.querySelector(".centered-container");e.style.display="flex",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.zIndex="9999",e.style.backgroundColor="rgba(0, 0, 0, 0)",e.style.opacity="0",e.style.transition="opacity 0.5s ease-in-out",setTimeout(()=>{e.style.backgroundColor="rgba(0, 0, 0, 1)",e.style.opacity="1",disableScroll(),recreateHoverEffectini(),setTimeout(()=>{updateTextInfo()},5)},50)}else console.error("Clicked image index not found in dynamicImages array.")}function updateLoadingStatus(e){loadingPercentage=Math.min(Math.max(e,0),100),sendHeightToParent(),loadCallCount++,loadingprePercentage=Math.min(loadCallCount/TOTAL_IMAGES_FOR_PRE_PERCENTAGE*100,100);e=document.getElementById("loading-progress");if(e){var t=e.getTotalLength(),n=t-t*loadingPercentage/100;if(e.style.strokeDasharray=t,e.style.strokeDashoffset=n,100<=loadingPercentage){let e=document.getElementById("search-bar");e.style.opacity=0,setTimeout(()=>{e.placeholder="Search...",e.disabled=!1,e.style.opacity=1},150),hideLoadingProgress(),loadingprePercentage=0,loadingPercentage=0}}}function resetLoadingStatus(){loadingPercentage=0,loadingprePercentage=0,loadCallCount=0,loadedImages=0}function simulateWindowResize(){let e=window.outerWidth,t=window.outerHeight;window.resizeTo(e-10,t-10),setTimeout(()=>{window.resizeTo(e,t)},100)}function hideLoadingProgress(){let e=document.getElementById("loading-progress-container");e&&(e.style.opacity="0",setTimeout(()=>{e.style.display="none"},1e3))}function calculateImagesPerRow(){return Math.floor(window.innerWidth/180)}function calculateRowsPerViewport(){return Math.ceil(window.innerHeight/180)}function updateTextInfo(){var e=dynamicImages[currentImageIndex],t=document.querySelector(`img[src="${e}"]`);if(t)try{var n=JSON.parse(t.getAttribute("data-metadata")||"{}"),o=document.getElementById("text-prompt"),a=document.getElementById("text-seed"),i=document.getElementById("text-creator");o.textContent="Prompt: "+(n.Prompt||"N/A"),a.textContent="Seed: "+(n.Seed||"N/A"),i.textContent="Creator: "+(n.Creator||"N/A"),o.style.visibility="hidden",a.style.visibility="hidden",i.style.visibility="hidden",updateTextInfo2(),startTextInfoAnimation(),createLinkFromTextInfo()}catch(e){console.error("Error parsing metadata JSON:",e)}else console.error("Image element not found for source: "+e)}function createLinkFromTextInfo(){var e=document.getElementById("text-seed2").textContent.replace("Seed: ","").trim();createClickableLink(globalLinkUrl=`https://www.hogeai.com/sharing/${e}.html`)}function createClickableLink(e){var t=document.createElement("a");t.href=e,t.textContent="Access Shared Content",document.body.appendChild(t)}function disposeLinks(){document.querySelectorAll("a").forEach(e=>{"Access Shared Content"===e.textContent&&e.remove()})}function updateTextInfo2(){var e=dynamicImages[currentImageIndex],t=document.querySelector(`img[src="${e}"]`);if(showTextInfo(),t)try{var n=JSON.parse(t.getAttribute("data-metadata")||"{}");document.getElementById("text-prompt2").textContent="Prompt: "+(n.Prompt||"N/A"),document.getElementById("text-seed2").textContent="Seed: "+(n.Seed||"N/A"),document.getElementById("text-creator2").textContent="Creator: "+(n.Creator||"N/A")}catch(e){console.error("Error parsing metadata JSON:",e)}else console.error("Image element not found for source: "+e)}function generateRandomString2(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%&*()[]{}|",n="",o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}function createSpansForTextInfo(e,t){let n=document.getElementById(e);n.innerHTML="",t.split("\n").forEach(e=>{var t=document.createElement("span");t.className="line-span";let o=document.createElement("div"),a=(o.className="line-container",t.appendChild(o),e.split(" "));a.forEach((e,t)=>{var n=document.createElement("span");n.className="dynamic-text",n.setAttribute("data-final-text",e),n.textContent=generateRandomString2(e.length),o.appendChild(n),t<a.length-1&&o.appendChild(document.createTextNode(" "))}),n.appendChild(t)}),setTimeout(()=>fixLayout(n),0)}function fixLayout(e){Array.from(e.getElementsByClassName("dynamic-text")).forEach(e=>{var t=e.getAttribute("data-final-text"),n=document.createElement("span"),t=(n.textContent=t,n.className="measure-span",n.style.visibility="hidden",e.parentNode.appendChild(n),n.offsetWidth+"px");e.style.width=t,e.style.minWidth=t,e.style.maxWidth=t,e.style.display="inline-block",e.style.whiteSpace="nowrap",e.parentNode.removeChild(n)})}function animateTextInfoSpans(e,o=500,a=10){e=document.getElementById(e).getElementsByClassName("line-span");let i=0;Array.from(e).forEach((e,t)=>{e=e.getElementsByClassName("dynamic-text");Array.from(e).forEach((t,e)=>{var n=a*i++;setTimeout(()=>{var e=t.getAttribute("data-final-text");animateText3(t,e,o)},n)})})}function animateText3(n,o,a){let i=null;n.style.visibility="visible";let r=0;AnimationManager.registerAnimation(function(e){i||(i=e,r=e);var t=e-i;return a<=t?(n.innerText=o,!1):(50<=e-r&&(r=e,e=Math.floor(t/a*o.length),t=generateRandomString2(o.length-e),n.innerText=o.substring(0,e)+t),!0)})}function startTextInfoAnimation(){var e=document.getElementById("text-prompt").textContent,t=document.getElementById("text-seed").textContent,n=document.getElementById("text-creator").textContent,e=(createSpansForTextInfo("text-prompt",e),createSpansForTextInfo("text-seed",t),createSpansForTextInfo("text-creator",n),countTotalWords22(["text-prompt","text-seed","text-creator"]));animateTextInfoSpans("text-prompt",700,10,0,e),animateTextInfoSpans("text-seed",700,10,countWords22("text-prompt"),e),animateTextInfoSpans("text-creator",700,10,countWords22("text-prompt")+countWords22("text-seed"),e)}function countWords22(e){return document.getElementById(e).getElementsByClassName("dynamic-text").length}function countTotalWords22(e){return e.reduce((e,t)=>e+countWords22(t),0)}function animateTextInfoSpans(e,n,o,a,i){e=document.getElementById(e).getElementsByClassName("dynamic-text");Array.from(e).forEach((t,e)=>{setTimeout(()=>{var e=t.getAttribute("data-final-text");animateText3(t,e,n)},o*(a+e)/i)})}function hideTextInfo(){return new Promise((e,t)=>{let n=document.getElementById("text-info");if(!textInfoVisible||!n)return e();isMobileDevice()?(n.style.opacity="0",n.style.transition="none",e()):setTimeout(()=>{n.style.opacity="0",setTimeout(()=>{e()},200)},30)})}function showTextInfo(){return new Promise((e,t)=>{let n=document.getElementById("text-info");if(!textInfoVisible||!n)return e();n.style.display="block",isMobileDevice()?(n.style.opacity="1",n.style.transition="none",e()):setTimeout(()=>{n.style.opacity="1",e()},100)})}function createButtonOverlay(){var e,t=document.getElementById("button-overlay");return t?(t.style.display="",t):(t=document.body,(e=document.createElement("div")).id="button-overlay",t.appendChild(e),e)}function createNewHoverEffectContainer(){var e=document.getElementById("hover-effect-wrapper"),t=document.createElement("div");return t.className="hover-effect-container",e.appendChild(t),t}function removeOldHoverEffectContainer(){var e,t=document.getElementById("hover-effect-wrapper").getElementsByClassName("hover-effect-container");1<t.length&&((e=t[0]).classList.add("fade-out"),e.hoverEffectInstance&&disposeHoverEffectInstance(e.hoverEffectInstance),setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},2e3))}function recreateHoverEffectini(){removeOldHoverEffectContainer(),createButtonOverlay(),calculateAspectRatio();var e=createNewHoverEffectContainer();isMobileDevice()?(e.style.backgroundImage="url("+dynamicImages[currentImageIndex]+")",e.style.backgroundSize="cover",e.style.backgroundPosition="center",e.style.backgroundRepeat="no-repeat"):hoverEffectInstance=new hoverEffect({parent:e,intensity:.3,image1:dynamicImages[currentImageIndex],image2:dynamicImages[currentImageIndex],displacementImage:dynamicImages[currentImageIndex]})}function isMobileDevice(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function recreateHoverEffectnext(){removeOldHoverEffectContainer();var e=createNewHoverEffectContainer(),t=(currentImageIndex+1)%dynamicImages.length;isMobileDevice()?(e.style.opacity="0",e.style.transition="opacity 0.5s ease",e.style.backgroundImage="url("+dynamicImages[t]+")",e.style.backgroundSize="cover",e.style.backgroundPosition="center",e.style.backgroundRepeat="no-repeat",setTimeout(function(){e.style.opacity="1"},11)):hoverEffectInstance=new hoverEffect({parent:e,intensity:.3,image1:dynamicImages[currentImageIndex],image2:dynamicImages[t],displacementImage:dynamicImages[t],angle2:Math.PI/4})}function recreateHoverEffectprev(){removeOldHoverEffectContainer();var e=createNewHoverEffectContainer(),t=(currentImageIndex-1+dynamicImages.length)%dynamicImages.length;isMobileDevice()?(e.style.opacity="0",e.style.transition="opacity 0.5s ease",e.style.backgroundImage="url("+dynamicImages[t]+")",e.style.backgroundSize="cover",e.style.backgroundPosition="center",e.style.backgroundRepeat="no-repeat",setTimeout(function(){e.style.opacity="1"},11)):hoverEffectInstance=new hoverEffect({parent:e,intensity:.3,image1:dynamicImages[currentImageIndex],image2:dynamicImages[t],displacementImage:dynamicImages[t]})}function showNextSlide(){hideTextInfo(),recreateHoverEffectnext(),setTimeout(function(){currentImageIndex=(currentImageIndex+1)%dynamicImages.length,isMobileDevice()?updateTextInfo():(hoverEffectInstance.next(),setTimeout(updateTextInfo,850))},30)}function showPrevSlide(){hideTextInfo(),recreateHoverEffectprev(),setTimeout(function(){currentImageIndex=(currentImageIndex-1+dynamicImages.length)%dynamicImages.length,isMobileDevice()?updateTextInfo():(hoverEffectInstance.next(),setTimeout(updateTextInfo,850))},30)}function disposeHoverEffectInstance(e){var t;e&&e.scene&&e.renderer&&(e.uniforms&&(disposeTexture(e.uniforms.texture1),disposeTexture(e.uniforms.texture2),disposeTexture(e.uniforms.disp)),e.scene.traverse(e=>{e.isMesh&&(e.geometry&&e.geometry.dispose(),e.material)&&(Array.isArray(e.material)?e.material.forEach(disposeMaterial):disposeMaterial(e.material))}),(t=e.renderer.getContext().getExtension("WEBGL_lose_context"))&&t.loseContext(),e.renderer.dispose(),e.renderer.domElement)&&e.renderer.domElement.parentNode&&e.renderer.domElement.parentNode.removeChild(e.renderer.domElement)}function disposeMaterial(e){e.map&&e.map.dispose(),e.lightMap&&e.lightMap.dispose(),e.bumpMap&&e.bumpMap.dispose(),e.normalMap&&e.normalMap.dispose(),e.specularMap&&e.specularMap.dispose(),e.envMap&&e.envMap.dispose(),e.dispose()}function disposeTexture(e){e&&e.value&&e.value.dispose()}function filterImagesAndOverlays(e,i=1){let r=e.toLowerCase().trim().split(/\s+/);e=document.querySelectorAll("#gallery-container .image-container");let s=document.querySelectorAll("#gallery-container .word-overlay");e.forEach((e,t)=>{var n,o=e.querySelector("img"),t=s[t],o=JSON.parse(o.dataset.metadata||"{}");delete o["File Name"],delete o.Directory;let u=Object.values(o).join(" ").toLowerCase().split(" "),f=(o.Prompt||"").toLowerCase().split(" "),a=[];if(1===r.length)a=u.filter(e=>e.toLowerCase().startsWith(r[0]));else for(let e=0;e<u.length;e++)u[e].toLowerCase().startsWith(r[0])&&(n=u.slice(e,e+r.length)).length===r.length&&n.every((e,t)=>e.toLowerCase().startsWith(r[t]))&&a.push(n.join(" "));if(a.length>i&&(shuffleArray(a),a=a.slice(0,i)),0<(a=a.filter((e,t,n)=>n.indexOf(e)===t).sort()).length){let m=[];a.forEach(t=>{var e=f.includes(t),n=u.findIndex(e=>e===t),o=e?3:0,a=1/(1+o),i=[],r=[];for(let e=n-o;e<=n+o;e++){var s,l=`opacity: ${1-Math.abs(n-e)*a}; color: white;`;e<0||e>=u.length?(s=`<span style='${l}'>   </span>`,e<n?i.push(" "+s):e>n&&r.push(s+" ")):(s=`<span style='${l}'>${u[e]}</span>`,e<n?i.push(" "+s):e>n&&r.push(s+" "))}var e=i.join("").length,d=r.join("").length,c=Math.abs(e-d),d=(e<d?i.unshift("&nbsp;".repeat(c)):d<e&&r.push("&nbsp;".repeat(c)),`<span style='opacity: 0;'>${".".repeat(11)}</span>`),e=(i.unshift(d),r.push(d),"opacity: 1; color: white;"),c=` <span style='${e}'>${t}</span> `,d=[...i,`<span style='${e}'>${c}</span>`,...r].join("");m.push(d)}),t.innerHTML=m.join("<br>"),e.classList.remove("hidden-image")}else e.classList.add("hidden-image"),t.textContent=""})}function shuffleArray(t){for(let e=t.length-1;0<e;e--){var n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}}function showAllImages(){var e=document.querySelectorAll("#gallery-container .image-container");let n=document.querySelectorAll("#gallery-container .word-overlay");e.forEach((e,t)=>{resetStyles(e),e.classList.remove("hidden-image"),n[t].textContent=""})}function resetStyles(e){e.style.transition="",e.style.transform="",e.style.opacity=""}function initializePage(){document.getElementById("search-bar").value="",window.scrollTo(0,0),createBackgroundSurface(),initializeLoadingScreen()}function showSlideshow(){var e=document.getElementById("slideshow");e&&(e.style.display="block")}function toggleSlideshow(){let e=document.querySelector(".centered-container");hideButtonOverlay(),"none"!==e.style.display&&(e.style.opacity="0",e.style.transition="opacity 0.3s ease-in-out",setTimeout(()=>{e.style.display="none",e.style.backgroundColor="rgba(0, 0, 0, 0)",e.style.opacity="1",enableScroll(),removeHoverEffect(),disposeLinks()},200))}function hideButtonOverlay(){var e=document.getElementById("button-overlay");e&&(e.style.display="none")}function showNotification(e){let t=document.getElementById("notification-popup");t||((t=document.createElement("div")).id="notification-popup",document.body.appendChild(t),applyStyles(t)),t.textContent=e,t.style.display="block",t.style.opacity=1,setTimeout(()=>{t.style.opacity=0,setTimeout(()=>{t.style.display="none"},500)},3e3)}function applyStyles(e){e.style.position="fixed",e.style.bottom="20px",e.style.left="50%",e.style.transform="translateX(-50%)",e.style.fontFamily="JetBrainsMono-Bold, sans-serif",e.style.fontSize="16px",e.style.border="2px solid #00ffcc",e.style.borderRadius="20px",e.style.padding="8px 15px",e.style.backgroundColor="black",e.style.color="#00ffcc",e.style.textAlign="center",e.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.6)",e.style.zIndex="10000000000000000000",e.style.opacity="0",e.style.transition="opacity 0.5s ease-in-out",e.style.width="auto",e.style.maxWidth="80%"}function removeButtonOverlay(){var e=document.getElementById("button-overlay");e&&e.parentNode&&e.parentNode.removeChild(e)}function removeHoverEffect(){for(var e=document.getElementById("hover-effect-wrapper");e.firstChild;)e.removeChild(e.firstChild);hoverEffectInstance=null}function preventDefault(e){e.preventDefault()}function disableScroll(){window.addEventListener("wheel",preventDefault,{passive:!1}),window.addEventListener("touchmove",preventDefault,{passive:!1})}function enableScroll(){window.removeEventListener("wheel",preventDefault),window.removeEventListener("touchmove",preventDefault)}setInterval(simulateWindowResize,5e3),document.addEventListener("DOMContentLoaded",function(){document.body.addEventListener("click",function(e){textInfoVisible&&e.target.closest("#text-info2")&&((e=document.getElementById("text-prompt2"))?(e=e.textContent.replace("Prompt:","").trim())?navigator.clipboard.writeText(e).then(()=>{showNotification("Prompt Text copied!")}).catch(e=>{showNotification("Failed to copy prompt text. Please try again.")}):console.log("No prompt text found to copy"):console.log("Prompt element not found"))})}),document.addEventListener("DOMContentLoaded",function(){let o=0,a=!1;function t(e,t){let n=document.getElementById(t);n||((n=document.createElement("div")).id=t,document.body.appendChild(n),(t=n).style.position="fixed",t.style.bottom="50%",t.style.left="50%",t.style.transform="translateX(-50%) translateY(-50%)",t.style.fontFamily="JetBrainsMono-Bold, sans-serif",t.style.fontSize="16px",t.style.border="2px solid #00ffcc",t.style.borderRadius="20px",t.style.padding="8px 15px",t.style.backgroundColor="rgba(0, 0, 0, 0.7)",t.style.color="#00ffcc",t.style.textAlign="center",t.style.zIndex="1000",t.style.opacity="0",t.style.transition="opacity 0.5s ease-in-out",t.style.width="auto",t.style.maxWidth="80%",t.style.cursor="pointer"),n.textContent=e,n.style.display="block",n.style.opacity=1,a=!0,setTimeout(()=>{n.style.opacity=0,setTimeout(()=>{n.style.display="none",console.log("Notification hidden"),a=!1,o=0},500)},2500)}document.body.addEventListener("click",function(e){e.target.closest("#hover-effect-wrapper")?1===++o?globalLinkUrl?navigator.clipboard.writeText(globalLinkUrl).then(()=>{t("Sharing Link copied! Click again to open.","notification-popup2")}).catch(e=>{t("Failed to copy link. Please try again.","notification-popup2")}):console.log("No URL found to copy"):2===o&&a&&globalLinkUrl&&(window.open(globalLinkUrl,"_blank"),o=0):e.target.closest("#notification-popup2")||(o=0)})}),document.addEventListener("keydown",function(e){"Escape"!==e.key&&"Esc"!==e.key||toggleSlideshow()}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("three"),require("gsap/TweenMax")):"function"==typeof define&&define.amd?define(["three","gsap/TweenMax"],t):e.hoverEffect=t(e.THREE,e.TweenMax)}(this,function(B,M){return M=M&&M.hasOwnProperty("default")?M.default:M,function(e){function t(){for(var e=arguments,t=0;t<arguments.length;t++)if(void 0!==e[t])return e[t]}var n,o,a,i,r,s,l,d,c,m,u,f,p,g=e.parent,y=e.displacementImage,h=e.image1,v=e.image2,x=t(e.imagesRatio,1),I=t(e.intensity1,e.intensity,1),E=t(e.intensity2,e.intensity,1),b=t(e.angle,Math.PI/4),w=t(e.angle1,b),b=t(e.angle2,3*-b),C=t(e.speedIn,e.speed,1.2),T=t(e.speedOut,e.speed,1.2),S=(t(e.hover,!0),t(e.easing,Expo.easeOut)),L=t(e.video,!1);g?h&&v&&y?(n=new B.Scene,(o=new B.OrthographicCamera(g.offsetWidth/-2,g.offsetWidth/2,g.offsetHeight/2,g.offsetHeight/-2,1,1e3)).position.z=1,(a=new B.WebGLRenderer({antialias:!1,alpha:!0})).setPixelRatio(2),a.setClearColor(16777215,0),a.setSize(g.offsetWidth,g.offsetHeight),g.appendChild(a.domElement),i=function(){a.render(n,o)},(e=new B.TextureLoader).crossOrigin="",(y=e.load(y,i)).magFilter=y.minFilter=B.LinearFilter,L?((s=function(){requestAnimationFrame(s),a.render(n,o)})(),(L=document.createElement("video")).autoplay=!0,L.loop=!0,L.src=h,L.load(),(l=document.createElement("video")).autoplay=!0,l.loop=!0,l.src=v,l.load(),d=new B.VideoTexture(L),c=new B.VideoTexture(l),d.magFilter=c.magFilter=B.LinearFilter,d.minFilter=c.minFilter=B.LinearFilter,l.addEventListener("loadeddata",function(){l.play(),(c=new B.VideoTexture(l)).magFilter=B.LinearFilter,c.minFilter=B.LinearFilter,f.uniforms.texture2.value=c},!1),L.addEventListener("loadeddata",function(){L.play(),(d=new B.VideoTexture(L)).magFilter=B.LinearFilter,d.minFilter=B.LinearFilter,f.uniforms.texture1.value=d},!1)):(d=e.load(h,i),c=e.load(v,i),d.magFilter=c.magFilter=B.LinearFilter,d.minFilter=c.minFilter=B.LinearFilter),u=g.offsetHeight/g.offsetWidth<(m=x)?(r=1,g.offsetHeight/g.offsetWidth/m):(r=g.offsetWidth/g.offsetHeight*m,1),f=new B.ShaderMaterial({uniforms:{intensity1:{type:"f",value:I},intensity2:{type:"f",value:E},dispFactor:{type:"f",value:0},angle1:{type:"f",value:w},angle2:{type:"f",value:b},texture1:{type:"t",value:d},texture2:{type:"t",value:c},disp:{type:"t",value:y},res:{type:"vec4",value:new B.Vector4(g.offsetWidth,g.offsetHeight,r,u)},dpr:{type:"f",value:window.devicePixelRatio}},vertexShader:"\nvarying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n",fragmentShader:"\nvarying vec2 vUv;\n\nuniform float dispFactor;\nuniform float dpr;\nuniform sampler2D disp;\n\nuniform sampler2D texture1;\nuniform sampler2D texture2;\nuniform float angle1;\nuniform float angle2;\nuniform float intensity1;\nuniform float intensity2;\nuniform vec4 res;\nuniform vec2 parent;\n\nmat2 getRotM(float angle) {\n  float s = sin(angle);\n  float c = cos(angle);\n  return mat2(c, -s, s, c);\n}\n\nvoid main() {\n  vec4 disp = texture2D(disp, vUv);\n  vec2 dispVec = vec2(disp.r, disp.g);\n\n  vec2 uv = 0.5 * gl_FragCoord.xy / (res.xy) ;\n  vec2 myUV = (uv - vec2(0.5))*res.zw + vec2(0.5);\n\n\n  vec2 distortedPosition1 = myUV + getRotM(angle1) * dispVec * intensity1 * dispFactor;\n  vec2 distortedPosition2 = myUV + getRotM(angle2) * dispVec * intensity2 * (1.0 - dispFactor);\n  vec4 _texture1 = texture2D(texture1, distortedPosition1);\n  vec4 _texture2 = texture2D(texture2, distortedPosition2);\n  gl_FragColor = mix(_texture1, _texture2, dispFactor);\n}\n",transparent:!0,opacity:1}),h=new B.PlaneBufferGeometry(g.offsetWidth,g.offsetHeight,1),p=new B.Mesh(h,f),n.add(p),window.addEventListener("resize",function(e){u=g.offsetHeight/g.offsetWidth<m?(r=1,g.offsetHeight/g.offsetWidth/m):(r=g.offsetWidth/g.offsetHeight*m,1),p.material.uniforms.res.value=new B.Vector4(g.offsetWidth,g.offsetHeight,r,u),a.setSize(g.offsetWidth,g.offsetHeight),i()}),this.next=function(){M.to(f.uniforms.dispFactor,C,{value:1,ease:S,onUpdate:i,onComplete:i})},this.previous=function(){M.to(f.uniforms.dispFactor,T,{value:0,ease:S,onUpdate:i,onComplete:i})}):console.warn("One or more images are missing"):console.warn("Parent missing")}});