<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9, user-scalable=no">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="https://raw.githubusercontent.com/Mischlichter/data/main/gallerycom/65411740980.jpg">
    <meta http-equiv="Cache-Control" content="public, max-age=31536000">
    
    <meta name="description" content="Transform your words into stunning visual artworks with HogeAI.">
    
    <meta property="og:title" content="HogeAI">
    <meta property="og:description" content="Transform your words into stunning visual artworks.">
    <meta property="og:image" content="https://raw.githubusercontent.com/Mischlichter/data/main/Viewer/HogeAI_00034_.png">
    <meta property="og:url" content="http://www.HogeAI.com">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="HogeAI">
    <meta property="og:locale" content="en_US">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="HogeAI">
    <meta name="twitter:description" content="Transform your words into stunning visual artworks.">
    <meta name="twitter:image" content="https://raw.githubusercontent.com/Mischlichter/data/main/Viewer/HogeAI_00034_.png">
        
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000000">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="theme-color" content="#000000">

    <link rel="preconnect" href="https://raw.githubusercontent.com">
    <link rel="dns-prefetch" href="https://raw.githubusercontent.com">

    <meta name="referrer" content="no-referrer">
    <meta name="robots" content="index, follow">
    
    
    <title>HogeAI</title>


<style>
    
    @font-face {
        font-family: 'JetBrainsMono-Regular';
        src: url('https://www.hogeai.com/fonts/JetBrainsMono-Regular.woff2') format('woff2'), /* Modern Browsers */
             url('https://www.hogeai.com/fonts/JetBrainsMono-Regular.ttf') format('truetype'); /* Safari, Android, iOS */
        font-weight: 400; /* Regular font weight */
        font-style: normal;
    }

    @font-face {
        font-family: 'JetBrainsMono-Bold';
        src: url('https://www.hogeai.com/fonts/JetBrainsMono-Bold.woff2') format('woff2'), /* Modern Browsers */
             url('https://www.hogeai.com/fonts/JetBrainsMono-Bold.ttf') format('truetype'); /* Safari, Android, iOS */
        font-weight: 700; /* Bold font weight */
        font-style: normal;
    }

    @font-face {
        font-family: 'JetBrainsMono-BoldItalic';
        src: url('https://www.hogeai.com/fonts/JetBrainsMono-BoldItalic.woff2') format('woff2'), /* Modern Browsers */
             url('https://www.hogeai.com/fonts/JetBrainsMono-BoldItalic.ttf') format('truetype'); /* Safari, Android, iOS */
        font-weight: 700; /* Bold font weight */
        font-style: italic;
    }

    @font-face {
        font-family: 'JetBrainsMono-ExtraBold';
        src: url('https://www.hogeai.com/fonts/JetBrainsMono-ExtraBold.woff2') format('woff2'), /* Modern Browsers */
             url('https://www.hogeai.com/fonts/JetBrainsMono-ExtraBold.ttf') format('truetype'); /* Safari, Android, iOS */
        font-weight: 800; /* Extra-bold font weight */
        font-style: normal;
    }

    

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        -webkit-font-smoothing: antialiased;
        
        -moz-osx-font-smoothing: grayscale;
        font-family: 'JetBrainsMono-Regular', sans-serif;
        background-color: black;
        color: #00ffcc;
        margin: 0;
        padding: 0;
        transition: color 0.3s ease;
        max-width: 100vw;
        overflow-x: hidden; /* Prevent horizontal scrolling */
        touch-action: pan-y; /* Allow vertical panning, disable everything else */
        -webkit-user-select: none; /* Prevent text selection */
        -ms-user-select: none;
        user-select: none;
        
    }


    html {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        
        
    }

    html, body {
        /*background-color: black;*/
        color: #00ffcc; /* Green color */
        /*height: 100vh;*/
        margin: 0;
        padding: 0;
    
    
        scrollbar-width: none;
        scrollbar-color: transparent transparent;
        
    }

    body::-webkit-scrollbar {
        width: 12px;
    }

    body::-webkit-scrollbar-track {
        background: transparent;
        border-left: 6px solid transparent; /* Adjust the border width to match the thumb's width */
    }

    body::-webkit-scrollbar-thumb {
        background: transparent;
        pointer-events: none; /* Disable interactivity */
    }

    #iframeContainer {
        width: 100%;
        height: 100%;
        z-index: 1;
        position: relative;

        
    }
    #mouseOverlay {
        pointer-events: auto;
        z-index: 1;

    }

    #iframeContainer iframe {
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index:1;
    }

    @media (orientation: portrait) {
        #iframeContainer iframe {
            transform: scale(0.9);
        }
    }

    /* Ensure the iframe is at normal size when in landscape mode */
    @media (orientation: landscape) {
        #iframeContainer iframe {
            transform: scale(1.0);
        }
    }
    
    /* Individual image containers */
    .flex-icontainer {
    
         /* Smooth fade-in transition */
        position: relative; /* Essential for absolute child positioning */
        padding-top: 38%; /* Same as width for a 1:1 aspect ratio */
        margin: 50px auto; /* Center horizontally */
        border: 2px solid #00ffcc; /* Green border */
        border-radius: 20px; /* Rounded corners */
        overflow: hidden; /* Ensures nothing spills outside the rounded corners */
        box-sizing: border-box;
        background-color: black;
        pointer-events: none;
        touch-action: none;

    }

    .flex-icontainer img {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 100%; /* Ensure the image covers the container */
        height: 100%;
        transform: translate(-50%, -50%); /* Center the image */
        object-fit: cover; /* Ensure the image covers the container */
        pointer-events: none;
        touch-action: none;
    }

    .flex-container {
        display: flex;
        flex-wrap: wrap;
        margin: 50px auto; /* Center horizontally */
        /*position: relative;
        bottom: 800px; */
        border: none;
        box-sizing: border-box;
        font-family: 'JetBrainsMono-Bold', sans-serif;
        text-transform: uppercase;
       
        z-index: 2;
    
        border: 2px solid #00ffcc; /* Green border */
        border-radius: 20px; /* Rounded corners */
        padding: 8px 15px; /* Adjust padding as needed */
        background-color: black;
     
    }
    
    .flex-container span {
        white-space: nowrap;
        display: inline-block;
        margin: 0 5px 5px 0;
        pointer-events: none;
        
    }

    #mainpage .dynamic-text { 
        opacity: 0;
        pointer-events: none;
        
    }

    
    #bodygallery .dynamic-text {
        z-index: 2;
        pointer-events: none;
    }
        
    .menu-bar {
        display: flex;
        justify-content: space-evenly; /* Evenly spaces the menu items */
        align-items: center;
        background-color: black; /* 20% grey color */
        border: 2px solid #00ffcc;
        border-radius: 20px;
        position: fixed; /* Fixed to the top */
        top: 0;
        left: 0;
        width: 100%;
        padding: 10px 30px;
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 1000; /* Ensures it stays on top of other content */
    }

    /* General styles for the menu container */
    .menu-container {
        font-family: 'JetBrainsMono-Bold';
        font-size: 16px;
        margin: 0; /* Adjust as needed */
        cursor: default; /* Or 'pointer' if you want a hand cursor */
        user-select: none;
        -webkit-user-select: none; /* Safari */
        -moz-user-select: none; /* Firefox */
        -ms-user-select: none;
    }

    /* Active menu item */
    .active-menu-item {
        font-family: 'JetBrainsMono-Bold'; /* Bold font */
        color: #fff; /* Change color if needed */
    }

    /* Hover effect */
    .menu-container:hover {
        transform: scale(1.1); /* Slightly enlarges the hovered item */
    }

    /* .logo-small class will be toggled dynamically by JS */
    .logo-small {
        position: absolute;
        left: 13.5%;
        top: 50%;
        transform: translate(-50%, -50%);
    }


    .active-menu-item {
        font-family: 'JetBrainsMono-Bold'; /* Bold font */
        color: #fff; /* Change color if needed */
        /* Other styles to highlight the active item */
    }
    .menu-container {
        transition: transform 0.3s ease;
    }
    .menu-container:hover {
        transform: scale(1.1); /* Slightly enlarges the hovered item */
    }
    .content-above-iframe {
        padding: 20px;
    }
    .content-below-iframe {
        padding: 20px;
    }

    .foreground-image-container {
        position: absolute; /* or absolute, depending on your layout needs */
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1; /* Ensures it is above all other content */
        pointer-events: none; /* Allows clicks to pass through to elements below */
    }

    .foreground-image {
        width: 100%;
        height: 100%;
        object-fit: cover; /* Adjust this as necessary to fit your design */
    }

    :root {
        --viewer-width: 1024px;
        --viewer-height: 2048px;
        --total-width: 3072px; /* New variable for total width */
    }

    #interfaceContainer {
        position: absolute; /* or 'fixed' depending on use case */
        top: 50%;
        left: 50%;
        z-index: 15;
        transform: translate(-50%, -50%);
        width: var(--total-width); /* Assuming this is set to 3072px or as needed */
        height: var(--viewer-height); /* Assuming this is set to 2048px */
        margin: 0 auto; /* Center the container */
        
        pointer-events: none;
    }

    .sideImageContainer {
        background-size: cover;
        background-repeat: no-repeat;
        z-index: 15;
        
    }

    #interfaceSideLeft, #interfaceSideRight {
        position: absolute;
        top: 0;
        width: calc((var(--total-width) - var(--viewer-width)) / 2); /* Adjust width for side containers */
        height: 100%;
        
    }

    #interfaceSideLeft {
        left: 0;
        
    }

    #interfaceSideRight {
        right: 0;
        
    }

    #interfaceViewerContainer {
        position: absolute;
        top: 0;
        left: calc((100% - var(--viewer-width)) / 2); /* Center the viewer */
        width: var(--viewer-width);
        height: 100%;
        z-index: 15;
        display: flex;
        justify-content: center;
        align-items: center;
        pointer-events: none;
        
    }

    #interfaceViewerImage {
        width: 100%;
        height: 100%;
        pointer-events: none;
        
    }

    :root {
        --background-total-width: 4096px;
        --background-total-height: 3072px;
    }

    #backgroundRoot {
        --viewer-width: 1024px;
        --viewer-height: 2048px;
        --total-width: 3072px; /* New variable for total width */
    }

    #backgroundContainer {
        position: absolute; /* or 'fixed' depending on use case */
        top: 50%;
        left: 50%;
        z-index: -2;
        transform: translate(-50%, -50%);
        width: var(--total-width); /* Assuming this is set to 3072px or as needed */
        height: var(--viewer-height); /* Assuming this is set to 2048px */
        margin: 0 auto; /* Center the container */
        
    }

    #backgroundInterfaceContainer {
        position: absolute;
        top: 1096px;
        left: calc((100% - var(--viewer-width)) / 2); /* Center the viewer */
        width: var(--viewer-width);
        height: 100%;
        z-index: -2;
        display: flex;
        justify-content: center;
        align-items: center;
       
    }

    #interfaceBackground {
        width: 100%;
        height: auto;
        
    }

    .scale-wrapper-background, .scale-wrapper-interface {
        position: absolute; /* Or 'fixed' if they should stay in place during scroll */
        top: 0;
        left: 0;
        width: 100%;
        height: 100%; /* Or an explicit height if necessary */
        pointer-events: none; /* To allow interaction with elements below */
    }

    .scale-wrapper-background {
        pointer-events: none;
        position: absolute; /* Switched to absolute for stronger positioning control */
        top: -15%;
        left: 50%;
        transform-origin: center center; /* Ensures scaling occurs from the element's center */
        width: fit-content; /* Ensures the wrapper fits the scaled content */
        height: fit-content; /* Ensures the wrapper fits the scaled content */
        transform: translate(-50%, -50%) scale(0.8); /* Centers and then scales the content */
        
    }

    .scale-wrapper-interface {
        pointer-events: none;
        position: absolute; /* Switched to absolute for stronger positioning control */
        top: 50%;
        left: 50%;
        transform-origin: center center; /* Ensures scaling occurs from the element's center */
        width: fit-content; /* Ensures the wrapper fits the scaled content */
        height: fit-content; /* Ensures the wrapper fits the scaled content */
        transform: translate(-50%, -50%) scale(0.8); /* Centers and then scales the content */
        
    }

    .scale-wrapper-background {
        z-index: -2; /* Ensures the background is placed behind other content */
    }

    .scale-wrapper-interface {
        z-index: 15; /* Ensures the interface is placed above the background */
    }

    #interfaceContainer, #backgroundContainer, #iframeContainer, #bodyGalleryContainer, .flex-icontainer, .flex-container {
        transition: opacity 1s ease-in-out;
        opacity: 0;  /* Initially hidden, ensure this is your intent */
        
    }

    .menu-bar, .menu-container {
        transition: opacity 0.5s ease-in-out;
        opacity: 0;  /* Initially hidden, ensure this is your intent */
        
    }







    .center-container-XL {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 1000vh;
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 70;
        background-color: rgba(0, 0, 0, 0);
        transition: opacity 1.5s ease-out; /* Smooth transition for opacity */
    }

    #ascii-art-container-XL {
        width: 370px;
        height: 170px;
        overflow: hidden;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 3;
        font-size: 16px;
    }

    .ascii-line-XL {
        white-space: pre;
        font-family: monospace;
        color: #00ffcc;
        transition: opacity 1s ease-out;

    }

    .hidden-char-XL {
        visibility: hidden;
    }


    #permissionOverlay {
        width: 100%;
        height: 100%;
        position: fixed;
        top: 0;
        left: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: rgba(0, 0, 0, 0.5);
        opacity: 0; 
        visibility: hidden;
        transition: opacity 0.5s ease-in-out; 
        z-index: 1111111;
    }




    #enableButton {
        padding: 10px 20px;
        font-family: 'JetBrainsMono-Bold';  /* Consistent with the menu */
        font-size: 16px;                    /* Size from the menu */
        background-color: black;            /* Background color like the menu */
        color: #00ffcc;                     /* Highlight color for the text, matching the menu border */
        border: 2px solid #00ffcc;          /* Border color to match the menu */
        border-radius: 20px;                /* Rounded corners like the menu */
        cursor: pointer;
        outline: none;
        z-index: 1111111;
        position: relative;                 /* Ensure positioning context is correct */
        top: auto;
        left: auto;
        width: auto;                        /* Auto width to fit content */
        box-shadow: 0px 4px 8px rgba(0, 0, 0); /* Slight shadow for depth */
        opacity: 0;
        visibility: hidden;
    }


    html.lenis, html.lenis body {
      height: auto;
    }

    .lenis.lenis-smooth {
      scroll-behavior: auto !important;
    }

    .lenis.lenis-smooth [data-lenis-prevent] {
      overscroll-behavior: contain;
    }

    .lenis.lenis-stopped {
      overflow: hidden;
    }

    .lenis.lenis-smooth iframe {
      pointer-events: none;
    }

    /* Add this CSS to your stylesheet */
    .no-scroll {
        overflow: hidden;
    }

    
</style>

</head>

<body>
    
    <div class="center-container-XL"> 
        <div id="ascii-art-container-XL">
        </div>
    </div>

    <div class="mainpage">
        
    <div id="permissionOverlay">
        <button id="enableButton">ENTER HOGEAI</button>
    </div>    

    </div>
        <div id="iframeContainer" style="position: relative; width: 100%; height: 100%;;z-index: 1;">
        <div id="mouseOverlay" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;z-index: 1;"></div>
 
    </div>

    <div id="bodyGalleryContainer">

    </div>
    
    <div class="scale-wrapper-background">
        <div id="backgroundRoot">
            <div id="backgroundContainer">
                <div id="backgroundInterfaceContainer">
                    <div id="interfaceBackground"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="scale-wrapper-interface">
        <div id="interfaceContainer">
            <div id="interfaceSideLeft" class="sideImageContainer"></div>
            <div id="interfaceViewerContainer">
                <img id="interfaceViewerImage" alt="Viewer Image">
            </div>
            <div id="interfaceSideRight" class="sideImageContainer"></div>
        </div>
    </div>
      
    </div>
    <link rel="stylesheet" type="text/css" href="css/bodygallery.css">
    <script src="https://kit.fontawesome.com/a258000a2d.js" crossorigin="anonymous"></script>
    <script src="./scripts/three.min.js"></script>
    <script src="./scripts/gsap.min.js"></script>
    <script src="./scripts/lenis.min.js"></script>
    <script src="./scripts/index-min.js"></script>
    <script src="scripts/bodygallery.min.js"></script>
    <script src="scripts/preload.min.js"></script>
    
    <script>
        let isIOS=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints,isGyroDevice=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),lastScrollY=0,lenisInitialized=!1,parallaxAnimationRegistered=!1,animateRegistered=!1,mouseEventListenersAdded=!1,savedState=null,isPaused=!1,AnimationManager={frameCap:60,lastRender:performance.now(),animations:[],running:!1,registerAnimation(e){this.animations.includes(e)||this.animations.push(e),this.running||(this.running=!0,requestAnimationFrame(this.runAnimations.bind(this)))},runAnimations(t){var e;isPaused||((e=t-this.lastRender)>1e3/this.frameCap&&(this.lastRender=t-e%(1e3/this.frameCap),this.animations=this.animations.filter(e=>!1!==e(t))),0<this.animations.length?requestAnimationFrame(this.runAnimations.bind(this)):this.running=!1)},cancelAnimations(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null,this.running=!1)},pauseAnimations(){this.paused=!0,this.running=!1,this.saveState()},resumeAnimations(){this.paused&&(this.paused=!1,this.restoreState(),!this.running)&&0<this.animations.length&&(this.running=!0,requestAnimationFrame(this.runAnimations.bind(this)))},saveState(){try{var e={lastRender:this.lastRender};localStorage.setItem("animationState",JSON.stringify(e))}catch(e){console.error("Error saving animation state:",e)}},restoreState(){try{var e=JSON.parse(localStorage.getItem("animationState"));e&&(this.lastRender=e.lastRender)}catch(e){console.error("Error restoring animation state:",e)}}},lenisOptions=isIOS?{smoothTouch:!0}:{lerp:.042},lenis=new Lenis(lenisOptions);function throttleUpdateParallax(){isPaused||requestAnimationFrame(updateParallax)}function runLenis(e){isPaused||(lenis.raf(e),requestAnimationFrame(runLenis))}function scrollToTop(){"undefined"!=typeof window&&(window.scrollTo({top:0,behavior:"instant"}),0!==window.pageYOffset)&&setTimeout(()=>{window.scrollTo(0,0)},0)}function saveStateAndPause(t){try{AnimationManager.pauseAnimations(),savedState=AnimationManager.saveState(),"function"==typeof t&&t()}catch(e){console.error("Error in saveStateAndPause:",e),"function"==typeof t&&t()}}function restoreStateAndResume(){isIOS&&(savedState?(AnimationManager.restoreState(savedState),AnimationManager.resumeAnimations()):console.log("No saved state to restore."))}lenis.on("scroll",()=>{parallaxAnimationRegistered||(parallaxAnimationRegistered=!0,AnimationManager.registerAnimation(throttleUpdateParallax)),updateParallax()}),lenisInitialized||(lenisInitialized=!0,requestAnimationFrame(runLenis)),isIOS&&document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&restoreStateAndResume()},{once:!0});var iframeIsVisible=!1;let tiles={a:!1,b:!1,viewerReady:!1,iframeReady:!1,menuReady:!0},observer,messageEventListenerAdded=!1,iframeObserverAdded=!1,sceneKey=null;function updateIframe(e){let t=document.getElementById("iframeContainer"),n=document.getElementById("mouseOverlay"),a=document.getElementById("bodyGalleryContainer"),i=[];var o=document.getElementById("sceneIframe");if(o)if(o){try{var r,s=o.contentWindow?.document.querySelector("canvas")?.getContext("webgl");s&&(r=s.getExtension("WEBGL_lose_context"))&&r.loseContext()}catch(e){e instanceof DOMException&&e.message.includes("Permission denied to access property")||console.warn("Error losing WebGL context:",e)}try{observer&&(observer.disconnect(),observer=null)}catch(e){console.warn("Error disconnecting observer:",e)}try{if(o.onload=null,o.contentWindow)try{o.contentWindow.location.origin===window.location.origin&&(o.contentWindow.onunload=null,"undefined"!=typeof messageHandler)&&o.contentWindow.removeEventListener("message",messageHandler)}catch(e){e instanceof DOMException&&e.message.includes("Permission denied to access property")||console.warn("Error accessing iframe content properties:",e)}}catch(e){console.warn("Error cleaning up iframe:",e)}try{o.src="about:blank",o.remove(),o=null}catch(e){console.warn("Error removing iframe:",e)}}function l(e){e.onload=function(){var t;e.contentWindow&&(t=e,iframeObserverAdded&&observer&&(observer.disconnect(),iframeObserverAdded=!1),(observer=new IntersectionObserver(e=>{e.forEach(e=>{t.contentWindow&&(t.contentWindow.postMessage({type:"visibilityChange",isVisible:e.isIntersecting},"*"),e.isIntersecting?isGyroDevice&&window.enableGyro():isGyroDevice&&window.disableGyro())})},{root:null,threshold:.1})).observe(t),iframeObserverAdded=!0)}}a&&(resetLoadingStatus(),a.innerHTML=""),i.forEach(e=>{e.destroy&&e.destroy()}),i=[],"scene05"===e?(hideFooterInstantly(),lenis.start(),void 0!==lenis&&null!==lenis&&lenis.scrollTo(0,{duration:.1}),toggleRemoveFooterActivation(),resetRemoveStyledFooterCounter(),t.style.display="none",n&&(n.style.display="none"),(s=document.getElementById("bodyGalleryContainer"))?s.style.opacity="1":console.error("bodyGalleryContainer not found in the DOM"),a.style.display="block",loadGallery(),unhideBackground()):"scene06"===e?(r="frames/clipz2.html",hideFooterInstantly(),(o=document.createElement("iframe")).id="sceneIframe",o.style.width="100%",o.style.height="100vh",o.style.border="none",o.style.display="none",o.style.opacity="0",o.src=r,o.setAttribute("aria-label","Scene Viewer"),document.body.appendChild(o),hideBackground(),l(o),unhideDirectIframe(),lenis.start(),scrollToTop(),setTimeout(()=>{lenis.stop()},111)):(o="VIEWER.html?scene="+e,t.style.display="block",n&&(n.style.display="block",n.style.zIndex="1"),a.style.display="none",(e=document.createElement("iframe")).id="sceneIframe",e.style.width="100%",e.style.height="100vh",e.style.border="none",e.src=o,e.setAttribute("aria-label","Scene Viewer"),messageEventListenerAdded||(window.addEventListener("message",e=>{"iframeLoaded"===e.data&&(tiles.iframeReady=!0)}),messageEventListenerAdded=!0),t.appendChild(e),hideBackground(),scrollToTop(),lenis.start(),l(e))}function resetPageStyles(){abortController&&abortController.abort(),void 0!==AnimationManager&&AnimationManager.cancelAnimations();var e=document.getElementById("gallery-container");e&&(e.querySelectorAll("img").forEach(e=>{e.onload=null,e.onerror=null,e.src.startsWith("blob:")&&URL.revokeObjectURL(e.src)}),e.innerHTML=""),document.querySelectorAll("span:not(.keep)").forEach(e=>e.remove()),document.querySelectorAll(".hidden-char-XL").forEach(e=>e.remove()),document.querySelectorAll(".ascii-line-XL").forEach(e=>e.remove()),document.querySelectorAll(".flex-container.animation-container").forEach(e=>e.remove()),document.querySelectorAll(".flex-icontainer").forEach(e=>e.remove()),document.querySelectorAll(".scale-wrapper-background, .scale-wrapper-interface").forEach(e=>{e.parentNode.removeChild(e)}),document.querySelectorAll("img:not(.keep)").forEach(e=>e.remove()),"undefined"!=typeof gsap&&gsap.globalTimeline.clear();let t=window.setTimeout(function(){},0);for(;t--;)window.clearTimeout(t),window.clearInterval(t);if("undefined"!=typeof renderer&&(renderer.dispose(),renderer.forceContextLoss(),renderer.context=null,renderer.domElement=null,renderer=null),"undefined"!=typeof scene){for(;0<scene.children.length;){var n=scene.children[0];scene.remove(n),n.geometry&&n.geometry.dispose(),n.material&&(Array.isArray(n.material)?n.material.forEach(e=>e.dispose()):n.material.dispose())}scene=null}"undefined"!=typeof camera&&(camera=null),observedElements=[],observedElementsData=[],tiles={a:!1,b:!1,viewerReady:!1,iframeReady:!1,menuReady:!0},messageEventListenerAdded=!1}function hideBackground(){setTimeout(()=>{var e=document.querySelector('div[style*="background-color"]');e&&e.remove()},111)}function unhideBackground(){setTimeout(()=>{var e;document.querySelector('div[style*="background-color"]')||((e=document.createElement("div")).style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="1vh",e.style.zIndex="-2",e.style.backgroundColor="rgba(0, 0, 0, 0)",document.body.insertBefore(e,document.body.firstChild))},111)}function unhideDirectIframe(){let e=document.getElementById("sceneIframe");e&&(e.style.display="block",setTimeout(()=>{isIOS?e.style.transition="none":e.style.transition="opacity 2s",e.style.opacity="1"},100))}function hideDirectIframe(){let e=document.getElementById("sceneIframe");e&&(isIOS?(e.style.transition="none",e.style.opacity="0",setTimeout(()=>{e.style.display="none"},100)):(e.style.transition="opacity 1s",e.style.opacity="0",setTimeout(()=>{e.style.display="none"},1e3)))}function hideFooterInstantly(){var e=document.getElementById("customStyledFooter");e&&(e.style.display="none")}function unhideFooterInstantly(){var e=document.getElementById("customStyledFooter");e&&(e.style.display="block")}let targetMouseX=window.innerWidth/2,targetMouseY=window.innerHeight/2,maxSmoothingFactor=.111,isMouseInArea=!1,applySmoothing=!1,mouseOverlay=document.getElementById("mouseOverlay");function handleMouseEvent(e,t){e.preventDefault(),"enter"===t?(isMouseInArea=!0,applySmoothing=!0):"leave"===t&&(isMouseInArea=!1),"leave"!==t&&(targetMouseX=e.clientX-mouseOverlay.offsetLeft-mouseOverlay.offsetWidth/2,targetMouseY=e.clientY-mouseOverlay.offsetTop-mouseOverlay.offsetHeight/2)}function animate(){var e,t,n,a;return isIOS?console.log("Animation is disabled on this device."):(applySmoothing?(e=targetMouseX-mouseX,t=targetMouseY-mouseY,n=Math.sqrt(e*e+t*t),a=Math.min(n/100,maxSmoothingFactor),mouseX+=e*a,mouseY+=t*a,n<1&&(applySmoothing=!1,mouseX=targetMouseX,mouseY=targetMouseY)):(mouseX=targetMouseX,mouseY=targetMouseY),sendMouseEventToIframe("mousemove",{clientX:mouseX,clientY:mouseY})),!isIOS}function sendMouseEventToIframe(e,t){var n=document.getElementById("sceneIframe");n&&n.contentWindow&&n.contentWindow.postMessage({type:e,mouseX:t.clientX,mouseY:t.clientY},"*")}mouseOverlay&&(mouseOverlay.style.display="none"),mouseEventListenersAdded||(mouseOverlay.addEventListener("mouseenter",e=>handleMouseEvent(e,"enter")),mouseOverlay.addEventListener("mouseleave",e=>handleMouseEvent(e,"leave")),mouseOverlay.addEventListener("mousemove",e=>handleMouseEvent(e,"move")),mouseEventListenersAdded=!0),animateRegistered||(animateRegistered=!0,AnimationManager.registerAnimation(animate));let currentSceneData=null;async function fetchAndParseData(){try{return parseText(await(await fetch("https://raw.githubusercontent.com/Mischlichter/data/main/assets/pages.txt")).text())}catch(e){return null}}function parseText(e){e=e.split(/SCENE\d+:/);""===e[0].trim()&&e.shift();let s=[];return e.forEach((e,t)=>{var n={sceneKey:"scene"+(t+1),containers:{},numberOfContainers:0},a=e.split(/#container\d+ \{/),i=a[0].trim().split(/\n+\s*P\d+:?\s*/).filter(e=>e).map((e,t)=>(0===t?e.replace(/^P\d+:?\s*/,""):e).trim());n.numberOfContainers=i.length;for(let e=1;e<=n.numberOfContainers;e++){var o=a[e]?`#container${e.toString().padStart(2,"0")} {`+a[e].split("}")[0].trim()+"}":"",r="container"+e.toString().padStart(2,"0");n.containers[r]={text:i[e-1],style:o}}s.push(n)}),s}async function fetchImage(){try{return parseImage(await(await fetch("https://raw.githubusercontent.com/Mischlichter/data/main/assets/pagesi.txt")).text())}catch(e){return null}}function parseImage(e){e=e.split(/SCENE\d+:/);""===e[0].trim()&&e.shift();let l=[];return e.forEach((e,t)=>{var n,a,i={sceneKey:"scene"+(t+1),images:{}},t=e.matchAll(/\n\nI\d+:\n(https?:\/\/\S+)/g),o={};for(n of e.matchAll(/#i-container\d+ \{([\s\S]*?)\}/g))o["i-container"+n[0].match(/#i-container(\d+)/)[1].padStart(2,"0")]=n[1].trim();for(a of t){var r="i-container"+a[0].match(/I(\d+)/)[1].padStart(2,"0"),s=o[r]||"";i.images[r]={src:a[1].trim(),style:s}}l.push(i)}),l}let isAnimating=!1;function initializeMenu(){fetchAndParseMenuData().then(e=>{e&&0<e.length&&loadMenu(e)})}async function fetchAndParseMenuData(){try{return parseMenuText(await(await fetch("https://raw.githubusercontent.com/Mischlichter/data/main/assets/menu.txt")).text())}catch(e){return[]}}function parseMenuText(e){return e.split("\n").filter(e=>""!==e.trim()).map(e=>{var[e,t]=e.split(":");return{label:e,scene:t}})}let menuContainerIds=[],isMenuLoaded=!1,blockMenuInteractions=!1;var menufade=!1;function blockInteractions(){blockMenuInteractions=!0}function unblockInteractions(){blockMenuInteractions=!1}function isInteractionBlocked(){return blockMenuInteractions}async function getCachedImage(t){try{var e,n=await(await caches.open("site-assets")).match(t);if(n)return e=await n.blob(),URL.createObjectURL(e);console.log(`Cached file not found for URL: ${t}, downloading...`)}catch(e){console.error(`Error fetching cached image for URL ${t}:`,e)}return console.log("Falling back to original URL: "+t),t}async function loadMenu(s){return new Promise((t,n)=>{isAnimating=!0,setTimeout(()=>{isAnimating=!1},4e3);let o=document.querySelector(".menu-bar"),a=(o?o.innerHTML="":((o=document.createElement("div")).className="menu-bar",document.body.appendChild(o)),document.createElement("img")),r=(a.style.marginRight="20px",a.id="menuLogoSmall",a.alt="Menu Logo Small",a.classList.add("logo","logo-small"),a.style.display="none",o.appendChild(a),document.createElement("img"));r.style.marginRight="20px",r.id="menuLogoLarge",r.alt="Menu Logo Large",r.classList.add("logo"),r.style.display="none",o.appendChild(r),fetchLogos().then(()=>{updateLogoVisibility()}).then(()=>{menuContainerIds=[];let n="menuContainer0",i=async(e,t)=>{blockMenuInteractions||("menuLogo"===n&&"menuContainer0"===e||"menuContainer0"===n&&"menuLogo"===e||n===e?window.scrollTo({top:0,left:0,behavior:"smooth"}):(n=e,hideDirectIframe(),await fadeOutElements(),await resetPageStyles(),loadScene(currentSceneIndex="menuLogo"===e?0:t),highlightActiveMenuItem("menuLogo"===e?"menuContainer0":e)))};a.addEventListener("click",()=>i("menuLogo",0)),a.addEventListener("touchend",()=>i("menuLogo",0)),r.addEventListener("click",()=>i("menuLogo",0)),r.addEventListener("touchend",()=>i("menuLogo",0)),s.forEach((e,t)=>{let n=document.createElement("div"),a=(n.id="menuContainer"+t,n.className="menu-container",n.innerText=e.label,o.appendChild(n),!1);e=async e=>{a&&"click"===e.type||(a="touchend"===e.type,i(n.id,t))};n.addEventListener("click",e),n.addEventListener("click",()=>animateTextDuringHover(n)),n.addEventListener("touchend",e),n.addEventListener("touchend",()=>animateTextDuringHover(n)),0===t&&setTimeout(()=>{animateTextDuringHover(n),highlightActiveMenuItem(n.id)},5e3),menuContainerIds.push(n.id)});var e=document.createElement("div"),e=(e.className="menu-container",e.setAttribute("data-fake","true"),o.insertBefore(e,o.children[1]),document.createElement("div"));e.className="menu-container",e.setAttribute("data-fake","true"),o.insertBefore(e,o.children[6]),t()}).then(()=>{updateMenu(s),isMenuLoaded=!0}).catch(e=>{console.error("Error updating logo visibility:",e),n(e)})})}async function fetchLogos(){var[e,t]=await Promise.all([getCachedImage("https://raw.githubusercontent.com/Mischlichter/data/main/interface/logoS.jpg"),getCachedImage("https://raw.githubusercontent.com/Mischlichter/data/main/interface/logo5.jpg")]),n=document.getElementById("menuLogoSmall"),a=document.getElementById("menuLogoLarge");n.src=e,a.src=t}let currentLogoName="",callCount=0;async function updateLogoVisibility(){var t=document.getElementById("menuLogoSmall"),n=document.getElementById("menuLogoLarge"),a=document.querySelectorAll('.menu-container[data-fake="true"]');if(t.classList.add("keep"),n.classList.add("keep"),t&&n){var i=window.innerWidth,o=window.innerHeight,r=i-1<o;let e="";e=i<=768||r?(t.style.display="block",n.style.display="none",a.forEach(e=>e.style.display=""),"small"):(t.style.display="none",n.style.display="block",a.forEach(e=>e.style.display="none"),"large"),0<callCount&&currentLogoName!==e?currentLogoName=e:callCount,updateCssBasedOnOrientation(i,o,r),callCount++}}function updateCssBasedOnOrientation(e,t,n){var a=document.querySelector(".menu-bar"),i=document.querySelectorAll(".menu-container");e<=768||n?(a.style.flexWrap="wrap",a.style.padding="5px",i.forEach(e=>{e.style.flex="1 1 25%",e.style.boxSizing="border-box",e.style.textAlign="left",e.style.padding="5px"})):(a.style.flexWrap="nowrap",a.style.padding="10px 30px",i.forEach(e=>{e.style.flex="none",e.style.boxSizing="content-box",e.style.textAlign="center",e.style.padding="0"}))}function updateMenu(e){preparedMenuItems={},e.forEach((e,t)=>{t="menuContainer"+t,e=createSpansForMenu(t,e.label.split("\n").join(" "));preparedMenuItems[t]=e}),currentContainerIndex=0,containerIds=Object.keys(preparedMenuItems),startAllMenuAnimations()}function createSpansForMenu(e,t){let a=document.getElementById(e),i=(a.innerHTML="",document.createElement("span"));i.style.display="inline-block",i.style.visibility="hidden",document.body.appendChild(i);var e=window.getComputedStyle(a),e=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth);let o=a.clientWidth-e-5,r=[],s="";return t.split(" ").forEach(e=>{var t,n=s+e+" ";i.innerText=n,s=i.offsetWidth>o&&""!==s?(t=createLineContainerForMenu(a,s.trim()),r.push(t),e+" "):n}),""!==s.trim()&&(e=createLineContainerForMenu(a,s.trim()),r.push(e)),document.body.removeChild(i),r}function createLineContainerForMenu(e,t){let n=document.createElement("div");return n.classList.add("keep"),n.style.display="inline-block",n.style.width="100%",e.appendChild(n),t.split(" ").forEach(e=>{var t;""!==e.trim()&&((t=document.createElement("span")).className="dynamic-text keep",t.setAttribute("data-final-text",e),t.style.opacity="0",n.appendChild(t))}),n}function startAnimationForMenuContainer(e){preparedMenuItems[e]&&startLineAnimation(preparedMenuItems[e])}function startAllMenuAnimations(){isMenuLoaded?menuContainerIds.forEach(e=>{startAnimationForMenuContainer(e),"menuContainer0"===e&&initializeFirstScene()}):setTimeout(startAllMenuAnimations,100)}function initializeFirstScene(){currentSceneIndex=0,fadeInmenu()}function shuffleMenu(){document.querySelectorAll(".menu-container").forEach(e=>{e.dataset.originalText||(e.dataset.originalText=e.textContent),animateMenuDuringScaling(e,e.dataset.originalText)})}function animateMenuDuringScaling(n,a){var e=200*Math.random(),i=100+400*Math.random(),o=null;function t(e){var t,e=e-(o=o||e);return e<i?(t=generateRandomString(a.length),n.textContent=t,!0):(n.textContent=a,n.style.opacity="1",300<=e?(n.removeAttribute("data-originalText"),!1):void 0)}setTimeout(function(){AnimationManager.registerAnimation(t)},e)}function animateTextDuringHover(a,i=150){if(!isAnimating){a.dataset.originalText||(a.dataset.originalText=a.textContent);let t=a.dataset.originalText,n=null;AnimationManager.registerAnimation(function(e){return e-(n=n||e)<i?(e=generateRandomString(t.length),a.textContent=e,!0):(a.textContent=t,!1)})}}function highlightActiveMenuItem(e){document.querySelectorAll(".menu-container").forEach(e=>{e.classList.remove("active-menu-item")});e=document.getElementById(e);e&&e.classList.add("active-menu-item")}document.querySelectorAll(".menu-container").forEach(e=>{e.addEventListener("mouseover",()=>animateTextDuringHover(e))});let currentSceneIndex=0,scenesData=[],scenesiData=[];async function initialize(){scenesData=await fetchAndParseData(),scenesiData=await fetchImage(),scenesData&&0<scenesData.length&&scenesiData&&0<scenesiData.length&&loadScene(currentSceneIndex)}let dynamicStyles=[];async function loadScene(e){let n=scenesData[e],a=scenesiData[e];var t=6===n.sceneKey.length?"scene0"+n.sceneKey.charAt(5):n.sceneKey;if(lenis.stop(),updateIframe(t),n){document.querySelectorAll(".flex-container, .flex-icontainer").forEach(e=>e.remove()),dynamicStyles.forEach(e=>e.remove()),dynamicStyles.length=0,handleScroll(),loadInterface(e);let t=[];Object.keys(n.containers).forEach(e=>{t.push({type:"text",key:e,content:n.containers[e]})}),a&&a.images&&Object.keys(a.images).forEach(e=>{t.push({type:"image",key:e,content:a.images[e]})}),t.sort((e,t)=>{return parseInt(e.key.match(/\d+/)[0],10)-parseInt(t.key.match(/\d+/)[0],10)||("text"===e.type?-1:1)}),triggerOrientationWithoutCalibration(),t.forEach(async e=>{var t=document.createElement("div"),n=(t.id=e.key,t.className="text"===e.type?"flex-container":"flex-icontainer",document.body.appendChild(t),"text"===e.type&&attachLinkToContainer(t,e.content.style),"flex-icontainer"===t.className&&(t.style.opacity="0.01"),document.createElement("style"));n.innerHTML=e.content.style,document.head.appendChild(n),dynamicStyles.push(n),"image"===e.type&&(n=document.createElement("img"),e=await async function(t){try{var e,n=await(await caches.open("site-assets")).match(t);if(n)return e=await n.blob(),URL.createObjectURL(e);console.log(`Cached file not found for URL: ${t}, downloading...`)}catch(e){console.error(`Error fetching cached image for URL ${t}:`,e)}return t}(e.content.src),n.src=e,n.alt="Scene Image",t.appendChild(n))}),createStyledFooter(),updateAllContainers(currentSceneData=n),installObserver(),observeElementsForAnimations(),createScrollToTopButton(),highlightActiveMenuItem("menuContainer"+e)}}function extractLinkFromCSS(e){e=e.match(/\/\* link: (.*) \*\//);return e?e[1].trim():null}function attachLinkToContainer(e,t){let n=extractLinkFromCSS(t);n&&(e.style.cursor="pointer",e.addEventListener("click",e=>{isIOS?(e.preventDefault(),saveStateAndPause(()=>{window.open(n,"_blank","noopener noreferrer")})):window.open(n,"_blank","noopener noreferrer")}))}let scrollToTopButton=null,scrollTimeout=null;function createScrollToTopButton(){function t(){window.scrollTo({top:0,behavior:"smooth"});var e,t=document.getElementById("sceneIframe");t&&(e=t.src,t.src="about:blank",t.src=e)}scrollToTopButton||((scrollToTopButton=document.createElement("button")).id="scrollToTopButton",scrollToTopButton.innerHTML='<span class="keep" style="position: relative; top: -5px;">▲</span>',scrollToTopButton.style.cssText=`
                position: fixed; 
                bottom: 30px; 
                right: 30px; 
                width: 48px;  /* Increased width for a wider appearance */
                height: 48px; /* Same as width to maintain circular shape */
                line-height: 50px; /* Center the triangle vertically */
                text-align: center; /* Center the triangle horizontally */
                padding: 0;
                font-size: 24px; /* Larger font size for the triangle */
                background-color: transparent; /* Background made transparent */
                box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.2);
                color: #00ffcc;
                border: 2px solid #00ffcc;
                border-radius: 50%;
                cursor: pointer;
                z-index: 17;
                display: none;
                opacity: 0;
                transition: opacity 0.5s ease; /* Smooth transition for opacity */
            `,document.body.appendChild(scrollToTopButton),scrollToTopButton.addEventListener("click",t),scrollToTopButton.addEventListener("touchend",function(e){e.preventDefault(),t()}))}function handleScroll(){scrollToTopButton&&(clearTimeout(scrollTimeout),scrollToTopButton.style.opacity=0,scrollTimeout=setTimeout(()=>{1111<window.scrollY?(scrollToTopButton.style.display="block",requestAnimationFrame(()=>{scrollToTopButton.style.opacity=1})):scrollToTopButton.style.display="none"},500))}function preventScrollBeyondFooter(){var e=document.getElementById("customStyledFooter");e&&(e=document.body.offsetHeight-window.innerHeight-e.offsetHeight+111,window.scrollY>e)&&(isIOS||lenis.stop(),window.scrollTo({top:e,behavior:"smooth"}),isIOS||setTimeout(()=>{lenis.start()},500))}function combinedScrollHandler(){preventScrollBeyondFooter(),debounce(()=>{4===currentSceneIndex&&saveScrollPosition()},200)(),handleScroll()}function addScrollListener(){isScrollListenerAdded||(window.addEventListener("scroll",combinedScrollHandler),isScrollListenerAdded=!0)}function debounce(e,t){let n;return function(){clearTimeout(n),n=setTimeout(()=>e.apply(this,arguments),t)}}function createStyledFooter(){removeStyledFooter();var e=document.createElement("div"),t=(e.id="customStyledFooter",e.style.width="100vw",e.style.height="5000px",e.style.backgroundColor="black",e.style.color="white",e.style.display="flex",e.style.flexDirection="column",e.style.alignItems="center",e.style.justifyContent="center",e.style.position="relative",e.style.zIndex="16",e.style.marginTop="256px",e.style.boxShadow="0px -50px 30px -20px rgba(0, 0, 0, 0.5)",document.createElement("style"));t.innerHTML=`
                .icon-size {
                    font-size: 18px;
                }
                @media (max-width: 768px) {
                    .icon-size {
                        font-size: 20px;
                    }
                    .btn-floating {
                        padding: 10px;
                    }
                }
            `,document.head.appendChild(t),e.innerHTML=`
                <div style="display: flex; align-items: flex-start; justify-content: center; flex-wrap: wrap; margin-top: -4900px;">
                    <a class="btn btn-outline-light btn-floating m-1" href="https://twitter.com/Funkybrown111" role="button" style="color: white; margin: 0 10px;" target="_blank" rel="noopener noreferrer" aria-label="Twitter">
                        <i class="fa-brands fa-twitter icon-size" aria-hidden="true"></i>
                    </a>
                    <a class="btn btn-outline-light btn-floating m-1" href="https://www.instagram.com/hogeal_bot/" role="button" style="color: white; margin: 0 10px;" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
                        <i class="fa-brands fa-instagram icon-size" aria-hidden="true"></i>
                    </a>
                    <a class="btn btn-outline-light btn-floating m-1" href="mailto:hogeai@web.de" role="button" style="color: white; margin: 0 15px;" target="_blank" rel="noopener noreferrer" aria-label="Email">
                        <i class="fa-solid fa-envelope icon-size" aria-hidden="true"></i>
                    </a>
                    <a class="btn btn-outline-light btn-floating m-1" href="https://t.me/officialhogecommunity" role="button" style="color: white; margin: 0 10px;" target="_blank" rel="noopener noreferrer" aria-label="Telegram">
                        <i class="fa-brands fa-telegram icon-size" aria-hidden="true"></i>
                    </a>
                    <a class="btn btn-outline-light btn-floating m-1" href="https://www.hoge.gg/" role="button" style="color: white; margin: 0 10px;" target="_blank" rel="noopener noreferrer" aria-label="Hoge">
                        <i class="fa-solid fa-bone icon-size" aria-hidden="true"></i>
                    </a>
                </div>
                <div style="margin-top: 5px;">
                    © 2024 Copyright: <a class="text-white" href="https://HogeAI.com/" style="color: white;">HogeAI.com</a>
                </div>
            `,document.body.appendChild(e),preventScrollBeyondFooter(),addScrollListener()}let isRemoveFooterActive=!1;function toggleRemoveFooterActivation(){isRemoveFooterActive=!isRemoveFooterActive}let removeStyledFooterCounter=0;function removeStyledFooter(){var e;isRemoveFooterActive&&(e=document.getElementById("customStyledFooter"))&&(document.body.removeChild(e),2<=++removeStyledFooterCounter)&&(isRemoveFooterActive=!1)}function resetRemoveStyledFooterCounter(){removeStyledFooterCounter=0}function fadeInElements(){Promise.all([new Promise(e=>{let t=()=>{tiles.a&&tiles.b&&tiles.viewerReady&&tiles.iframeReady&&tiles.menuReady?e():setTimeout(t,100)};t()}),new Promise(t=>{var e=document.querySelectorAll("img");let n=0,a=e.length;e.forEach(e=>{e.complete?n++:(e.addEventListener("load",()=>{++n===a&&t()}),e.addEventListener("error",()=>{++n===a&&t()}))}),n===a&&t()})]).then(()=>{let t=0,e=!1,n=()=>{0===--t&&(e=!0)};["#interfaceContainer","#backgroundContainer","#iframeContainer","#bodyGalleryContainer",".flex-container"].forEach(e=>{document.querySelectorAll(e).forEach(e=>{e&&(t++,e.style.opacity=1,isIOS?e.style.transition="none":e.style.transition="opacity 1s ease-in-out",initializeScrollHandling(),e.addEventListener("transitionend",n))})}),0===t&&(e=!0)})}function fadeInmenu(){return updateLogoVisibility(),new Promise(t=>{let n=0,a=!1,i=()=>{0===--n&&(a=!0,tiles.menuReady=!0,t())};[".menu-bar",".menu-container"].forEach(e=>{document.querySelectorAll(e).forEach(e=>{e&&(n++,e.style.opacity=1,isIOS?(a=!0,tiles.menuReady=!0,t()):(e.style.transition="opacity 0.5s ease-in-out",e.addEventListener("transitionend",i)))})}),0===n&&(tiles.menuReady=!0,t())})}function fadeOutElements(){return new Promise((e,t)=>{let n=[];["#interfaceContainer","#backgroundContainer",".flex-icontainer","#bodyGalleryContainer",".flex-container","#iframeContainer"].forEach(e=>{document.querySelectorAll(e).forEach(e=>{e&&n.push(e)})}),n.forEach(e=>{e.style.opacity=0,isIOS?e.style.transition="none":e.style.transition="opacity 1s ease-in-out"}),setTimeout(e,isIOS?0:1e3)})}function createVerticalTiles_a(a,i,o){return new Promise(e=>{var t=document.getElementById(a),n=(t.innerHTML="",document.createElement("div"));n.style.width="100%",n.style.height=23*o+"px",n.style.backgroundImage=`url(${i})`,n.style.backgroundRepeat="repeat-y",n.style.backgroundSize="contain",t.appendChild(n),delayedVirtualCanvasUpdate(),e()}).then(()=>{tiles.a=!0})}function createVerticalTiles_b(a,i,o){return new Promise(e=>{var t=document.getElementById(a),n=(t.innerHTML="",document.createElement("div"));n.style.width="100%",n.style.height=23*o+"px",n.style.backgroundImage=`url(${i})`,n.style.backgroundRepeat="repeat-y",n.style.backgroundSize="contain",t.appendChild(n),updateVirtualCanvasSize(),e()}).then(()=>{tiles.b=!0})}function delayedVirtualCanvasUpdate(){setTimeout(updateVirtualCanvasSize,100)}async function initializeCacheStatus(e){let n=await caches.open("site-assets");e=e.map(async e=>{var t="cache_"+e;await n.match(e)?localStorage.setItem(t,"cached"):localStorage.setItem(t,"not_cached")});await Promise.all(e)}function initializeCacheForDynamicUrls(e){var t,n=[];for(t of["https://raw.githubusercontent.com/Mischlichter/data/main/interface/background/b","https://raw.githubusercontent.com/Mischlichter/data/main/interface/side/s","https://raw.githubusercontent.com/Mischlichter/data/main/interface/viewer/v","https://raw.githubusercontent.com/Mischlichter/data/main/interface/viewer/vm"])for(var a of e){a=a.toString().padStart(2,"0");n.push(""+t+a+".jpg"),t.includes("vm")&&n.push(""+t+a+".png")}initializeCacheStatus(n)}async function getCachedOrFetchImage(t){var e=await caches.open("site-assets"),n=await e.match(t);if(n)return URL.createObjectURL(await n.blob());try{var a=await fetch(t);return a.ok?await e.put(t,a.clone()):console.error("Failed to fetch image at "+t),t}catch(e){return console.error(`Error fetching image for URL ${t}:`,e),t}}async function loadInterface(e){function t(e,t){var n=document.querySelector("."+e);n||((n=document.createElement("div")).className=e,document.body.appendChild(n),n.innerHTML=t)}if(4===e||5===e)document.querySelectorAll(".scale-wrapper-background, .scale-wrapper-interface").forEach(e=>{e.parentNode.removeChild(e)});else{updateVirtualCanvasSize(),t("scale-wrapper-background",`
                <div id="backgroundRoot">
                    <div id="backgroundContainer">
                        <div id="backgroundInterfaceContainer">
                            <div id="interfaceBackground"></div>
                        </div>
                    </div>
                </div>
            `),t("scale-wrapper-interface",`
                <div id="interfaceContainer">
                    <div id="interfaceSideLeft" class="sideImageContainer"></div>
                    <div id="interfaceViewerContainer">
                        <img id="interfaceViewerImage" alt="Viewer Image">
                    </div>
                    <div id="interfaceSideRight" class="sideImageContainer"></div>
                </div>
            `);var e=e.toString().padStart(2,"0"),n=`https://raw.githubusercontent.com/Mischlichter/data/main/interface/background/b${e}.jpg`,a=`https://raw.githubusercontent.com/Mischlichter/data/main/interface/side/s${e}.jpg`;let r=`https://raw.githubusercontent.com/Mischlichter/data/main/interface/viewer/v${e}.jpg`;e=`https://raw.githubusercontent.com/Mischlichter/data/main/interface/viewer/vm${e}.png`;try{var s=await getCachedOrFetchImage(n),l=await getCachedOrFetchImage(a);let i=await getCachedOrFetchImage(r),o=await getCachedOrFetchImage(e);var c=createVerticalTiles_a("interfaceBackground",s,2048),d=createVerticalTiles_b("interfaceSideLeft",l,2048),u=createVerticalTiles_b("interfaceSideRight",l,2048),m=new Promise((t,n)=>{let a=document.getElementById("interfaceViewerImage");if(a&&document.body.contains(a)){let e=new Image;e.onload=function(){a.src=e.src,a.style.maskImage=`url('${o}')`,a.style.webkitMaskImage=`url('${o}')`,a.style.maskSize="100% 100%",a.style.webkitMaskSize="100% 100%",tiles.viewerReady=!0,t()},e.onerror=function(){console.error("Failed to load image at url:",r),n()},e.src=i}else console.log("Viewer image element does not exist in the DOM."),n()});await Promise.all([c,d,u,m]),fadeInElements()}catch(e){console.error("Error loading elements:",e)}}}function updateParallax(){if(!isIOS){let o=window.scrollY;if(o!==lastScrollY){lastScrollY=o;let t=document.getElementById("interfaceBackground"),n=document.getElementById("interfaceSideLeft"),a=document.getElementById("interfaceSideRight"),i=document.getElementById("interfaceViewerContainer");requestAnimationFrame(()=>{var e;t&&(e=.3*o,t.style.transform=`translateY(${e}px)`,t.style.willChange="transform"),n&&a&&(e=-1.2*o,n.style.transform=`translateY(${e}px)`,n.style.willChange="transform",a.style.transform=`translateY(${e}px)`,a.style.willChange="transform"),i&&(e=-.3*o,i.style.transform=`translateY(${e}px)`,i.style.willChange="transform")})}}}function generateRandomString(t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%&*()[]{}|";let a="";for(let e=0;e<t;e++)a+=n.charAt(Math.floor(Math.random()*n.length));return a}function animateText(p,y,e,t,f={r:0,g:255,b:204}){setTimeout(()=>{let i=generateRandomString(y.length),o=(p.textContent=i,p.style.opacity="0",8),r=e/(y.length*o),s=0,l=0,c=performance.now(),d=0,n=180,u=2*Math.random()*Math.PI,m=2*Math.random()*Math.PI,h=2*Math.random()*Math.PI;function g(e,t){return Math.floor(127.5*(1+Math.sin(2*Math.PI*d/n+e+t)))}AnimationManager.registerAnimation(function(e){if((t=e-c)>r){c=e-t%r,l%o==0&&s<y.length?(i=i.substring(0,s)+y.charAt(s)+generateRandomString(y.length-s-1),s++):i=i.substring(0,s)+generateRandomString(y.length-s),p.textContent=i,l++,p.style.opacity=Math.min(1,parseFloat(p.style.opacity)+.05);var e=s/y.length,t=g(0,u),n=g(2*Math.PI/3,m),a=g(4*Math.PI/3,h),t=Math.floor(t+(f.r-t)*e),n=Math.floor(n+(f.g-n)*e),a=Math.floor(a+(f.b-a)*e);if(p.style.color=`rgb(${t}, ${n}, ${a})`,d++,s===y.length&&l%o==0)return p.textContent=y,p.style.opacity="1",p.style.color=`rgb(${f.r}, ${f.g}, ${f.b})`,!1}return!0})},t)}function createSpansForContainer(e,t){let a=document.getElementById(e),i=(a.innerHTML="",document.createElement("span"));i.style.display="inline-block",i.style.visibility="hidden",document.body.appendChild(i);var e=window.getComputedStyle(a),e=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth),e=a.clientWidth-e-5;let o=e+.095*e,r=[],s="";return t.split(" ").forEach(e=>{var t,n=s+e+" ";i.innerText=n,s=i.offsetWidth>o&&""!==s?(t=createLineContainer(a,s.trim()),r.push(t),e+" "):n}),""!==s.trim()&&(e=createLineContainer(a,s.trim()),r.push(e)),document.body.removeChild(i),r}function createLineContainer(e,t){adjustContainerSizesBasedOnVirtualCanvas();let n=document.createElement("div");return n.style.display="inline-block",n.style.width="1000%",e.appendChild(n),n.style.whiteSpace="nowrap",t.split(" ").forEach(e=>{var t;""!==e.trim()&&((t=document.createElement("span")).className="dynamic-text",t.setAttribute("data-final-text",e),t.style.opacity="0",n.appendChild(t))}),n}function startLineAnimation(e,o={r:0,g:255,b:204}){e.forEach(e=>{Array.from(e.children).forEach(e=>{e.textContent=" "})}),e.forEach((e,i)=>{Array.from(e.children).forEach((e,t)=>{let n=150*i+100*t;t=e.getAttribute("data-color");let a=t?JSON.parse(t):o;setTimeout(()=>{animateText(e,e.getAttribute("data-final-text"),1e3,n,a)},n)})})}initializeCacheForDynamicUrls([0,1,2,3]);let preparedContainers={};function updateAllContainers(n){preparedContainers={},Object.keys(n.containers).forEach(e=>{var t=createSpansForContainer(e,n.containers[e].text.split("\n").join(" "));preparedContainers[e]=t}),currentContainerIndex=0,containerIds=Object.keys(n.containers)}function startAnimationForContainer(e){preparedContainers[e]&&startLineAnimation(preparedContainers[e],{r:0,g:255,b:204})}function checkAndInitialize(){0<document.getElementById("container01").clientWidth?updateAllContainers():setTimeout(checkAndInitialize,50)}function animateTextDuringScaling(t,n){var a=generateRandomString(n.length),e=(t.textContent=a,t.style.opacity="1",200*Math.random()),i=100+400*Math.random(),o=null;function r(e){return e-(o=o||e)<i?(a=generateRandomString(n.length),t.textContent=a,!0):(t.textContent=n,!1)}setTimeout(function(){AnimationManager.registerAnimation(r)},e)}function startScalingAnimation(e){e.forEach(e=>{Array.from(e.children).forEach(e=>{animateTextDuringScaling(e,e.getAttribute("data-final-text"))})})}function clearTextAnimationElements(){document.querySelectorAll(".dynamic-text").forEach(e=>{e.closest(".menu-container")||e.remove()})}let observedElements=[],observedElementsData=[],containerIds=[];function observeElementsForAnimations(){let t=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.contains("animation-container")&&.05<=e.intersectionRatio&&!e.target.dataset.animationStarted&&(startAnimationForContainer(e.target.id),e.target.dataset.animationStarted="true",t.unobserve(e.target))})},{threshold:[.01,.25],rootMargin:"50px"});observedElements.forEach(e=>t.unobserve(e)),observedElements=[],containerIds.map(e=>document.getElementById(e)).filter(Boolean).forEach(e=>{e&&!e.dataset.observed&&(e.classList.contains("animation-container")||e.classList.add("animation-container"),t.observe(e),e.dataset.observed="true",observedElements.push(e))})}function saveElementsViewportPosition(){observedElementsData=observedElements.map(e=>({element:e,viewportCenter:(e.getBoundingClientRect().top+e.getBoundingClientRect().bottom)/2}))}function getClosestElementToViewportCenter(){let n=window.innerHeight/2,a=null,i=1/0;return observedElementsData.forEach(e=>{var t=Math.abs(e.viewportCenter-n);t<i&&(a=e,i=t)}),a}let observedFlexContainers=[];function installObserver(){let t=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&.25<=e.intersectionRatio&&"1"!==e.target.style.opacity&&(e.target.style.transition="opacity 0.7s ease-in-out",e.target.style.opacity="1")})},{threshold:.25,rootMargin:"50px"});observedFlexContainers.forEach(e=>t.unobserve(e)),observedFlexContainers=[],document.querySelectorAll(".flex-icontainer").forEach(e=>{e&&!e.dataset.observed&&(""!==e.style.opacity&&"0"!==e.style.opacity||(e.style.opacity="0.01"),t.observe(e),e.dataset.observed="true",observedFlexContainers.push(e))})}function updateAllContainersDuringScaling(){var e,t;currentSceneData&&(t=document.body.scrollHeight,saveElementsViewportPosition(),Object.keys(currentSceneData.containers).forEach(e=>{startScalingAnimation(createSpansForContainer(e,currentSceneData.containers[e].text.split("\n").join(" ")))}),e=document.body.scrollHeight,window.scrollTo(0,window.scrollY+(e-t)),e=getClosestElementToViewportCenter())&&({element:t,viewportCenter:e}=e,t=(t.getBoundingClientRect().top+t.getBoundingClientRect().bottom)/2,window.scrollTo(0,window.scrollY+(t-e)))}function getSmoothAspectRatio(e,t){e/=t;return e<1?1.6:1<=e&&e<4/3?1.6+(e-1)/(4/3-1)*(1.9-1.6):1.9}var lastScaleFactor=null,cumulativeScaleChange=0;function updateVirtualCanvasSize(){var e,t,n=document.getElementById("virtualcanvas"),a=(n||((n=document.createElement("div")).id="virtualcanvas",document.body.appendChild(n),n.style.transition="transform 0.5s ease",n.style.position="absolute",n.style.left="50%",n.style.transform="translate(-50%, -50%)",n.style.zIndex="-100"),window.innerWidth),i=window.innerHeight,o=a-1<i,r=getSmoothAspectRatio(a,i);o?t=1.5*(e=80*Math.round((20+i/r)/80)-20):e=(t=a)/r;var o=t,i=e,s=Math.min(o/1536,i/1024);document.querySelectorAll(".scale-wrapper-interface").forEach(e=>{var t=isIOS?"45px":"-50%";e.style.transform=`translate(-50%, ${t}) scale(${s})`}),document.querySelectorAll(".scale-wrapper-background").forEach(e=>{e.style.transform=`translate(-50%, -50%) scale(${s})`}),n.style.width=o+"px",n.style.height=i+"px",n.style.top="50%"}function adjustContainerSizesBasedOnVirtualCanvas(){var e,t,n,a,i=document.getElementById("virtualcanvas");i&&(i=i.offsetWidth,t=window.innerWidth<=768,e=window.innerHeight>window.innerWidth,t=t||e?e?1.3:1:1,(n=document.getElementById("container01"))&&(n.style.marginTop=e?"30%":"25%"),a=39*i/100*t,document.querySelectorAll(".flex-container, .flex-icontainer").forEach(function(e){e.style.width=a+"px",e.classList.contains("flex-icontainer")&&(e.style.paddingTop=a+"px")}))}let isWheelListenerAdded=!1;function preventScrollZoom(e){e.ctrlKey&&e.preventDefault()}isWheelListenerAdded||(document.addEventListener("wheel",preventScrollZoom,{passive:!1}),isWheelListenerAdded=!0);let isResizeListenerAdded=!1;if(!isResizeListenerAdded){let t=window.innerHeight,n=96;window.addEventListener("resize",function(){var e=window.innerHeight;isIOS?Math.abs(e-t)>n&&(handleResize(),4===currentSceneIndex&&handleGalleryResize(),t=e):(handleResize(),4===currentSceneIndex&&handleGalleryResize())}),isResizeListenerAdded=!0}function handleResize(e){updateVirtualCanvasSize(),updateLogoVisibility(),isIOS||isAnimating||(updateAllContainersDuringScaling(),shuffleMenu())}function debounce(n,a){let i;return function(){let e=this,t=arguments;clearTimeout(i),i=setTimeout(()=>n.apply(e,t),a)}}let savedElement=null,savedPosition=0,ignoreSaveScroll=!1;function saveScrollPosition(){if(!ignoreSaveScroll){var n=document.getElementById("gallery-container");if(4===currentSceneIndex&&n){var a,n=Array.from(n.getElementsByClassName("image-container")),i=window.scrollY;let e=null,t=1/0;for(a of n){var o=a.getBoundingClientRect(),o=Math.abs(o.top);o<t&&(t=o,e=a)}e&&(savedElement=e,savedPosition=e.getBoundingClientRect().top+i)}}}function handleGalleryResize(){let e;var t;e=window.innerWidth>window.innerHeight?75:98,savedElement&&(t=savedElement.getBoundingClientRect().top+window.scrollY-e,t=savedPosition+(t-savedPosition),window.scrollTo({top:t,behavior:"instant"}),ignoreSaveScroll=!0,setTimeout(()=>{ignoreSaveScroll=!1},3e3))}let isScrollListenerAdded=!1;function combinedScrollHandler(){preventScrollBeyondFooter(),debounce(()=>{4===currentSceneIndex&&saveScrollPosition()},200)(),handleScroll()}function addScrollListener(){isScrollListenerAdded||(window.addEventListener("scroll",combinedScrollHandler),isScrollListenerAdded=!0)}function debounce(e,t){let n;return function(){clearTimeout(n),n=setTimeout(()=>e.apply(this,arguments),t)}}function initializeScrollHandling(){addScrollListener()}let isScrollDisabled=!1;function preventDefault(e){e.preventDefault()}function disableScroll(){isScrollDisabled||(window.addEventListener("wheel",preventDefault,{passive:!1}),window.addEventListener("touchmove",preventDefault,{passive:!1}),isScrollDisabled=!0)}function enableScroll(){isScrollDisabled&&(window.removeEventListener("wheel",preventDefault),window.removeEventListener("touchmove",preventDefault),isScrollDisabled=!1)}

    </script>
    
</body>
</html>

